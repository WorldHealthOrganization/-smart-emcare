map 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureMap/emcare.b18-21.signs.2m.m' = 'emcare.b18-21.signs.2m.m'
uses 'http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse' alias 'questionnaireResponse' as source
uses 'http://hl7.org/fhir/StructureDefinition/Bundle' alias 'Bundle' as target
uses 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/observation' alias 'Observation' as target
uses 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation' alias 'EmCare Observation' as produced
group bundletrans(source src : questionnaireResponse,target bundle : Bundle){
    src -> bundle.id = uuid() 'id';
    src -> bundle.type = 'batch' 'type';
    src where src.item.where(linkId='EmCare.B18S2.DE01').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de01(src,tgt) 'act-EmCare.B18S2.DE01';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE04').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de04(src,tgt) 'act-EmCare.B18S2.DE04';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE05').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de05(src,tgt) 'act-EmCare.B18S2.DE05';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE06').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de06(src,tgt) 'act-EmCare.B18S2.DE06';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE07').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de07(src,tgt) 'act-EmCare.B18S2.DE07';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE08').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de08(src,tgt) 'act-EmCare.B18S2.DE08';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE12').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de12(src,tgt) 'act-EmCare.B18S2.DE12';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B18S2.DE13').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb18s2de13(src,tgt) 'act-EmCare.B18S2.DE13';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B19S2.DE01').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb19s2de01(src,tgt) 'act-EmCare.B19S2.DE01';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B19S2.DE02').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb19s2de02(src,tgt) 'act-EmCare.B19S2.DE02';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B19S2.DE03').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb19s2de03(src,tgt) 'act-EmCare.B19S2.DE03';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B20S2.DE01').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb20s2de01(src,tgt) 'act-EmCare.B20S2.DE01';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B20S2.DE02').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb20s2de02(src,tgt) 'act-EmCare.B20S2.DE02';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B20S2.DE06').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb20s2de06(src,tgt) 'act-EmCare.B20S2.DE06';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE01').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de01(src,tgt) 'act-EmCare.B21S2.DE01';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE05').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de05(src,tgt) 'act-EmCare.B21S2.DE05';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE08').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de08(src,tgt) 'act-EmCare.B21S2.DE08';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE09').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de09(src,tgt) 'act-EmCare.B21S2.DE09';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE12').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de12(src,tgt) 'act-EmCare.B21S2.DE12';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE27').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de27(src,tgt) 'act-EmCare.B21S2.DE27';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE30').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de30(src,tgt) 'act-EmCare.B21S2.DE30';
    } 'emcareobservation';
    src where src.item.where(linkId='EmCare.B21S2.DE31').exists() then {
        src -> bundle.entry as entry, entry.request as request, request.method = 'POST', entry.resource = create('Observation') as tgt then emcareobservationemcareb21s2de31(src,tgt) 'act-EmCare.B21S2.DE31';
    } 'emcareobservation';
}

group emcareobservationemcareb18s2de01(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de01';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE01'
         'code-emcareb18s2de01';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE01' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb18s2de01';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb18s2de01';
        } '0a27a0eb';
    } '201c98ac';
}

group emcareobservationemcareb18s2de04(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de04';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE04'
         'code-emcareb18s2de04';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE04' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb18s2de04';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb18s2de04';
        } '0a27a0eb';
    } 'cbb2a669';
}

group emcareobservationemcareb18s2de05(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de05';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE05'
         'code-emcareb18s2de05';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE05' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb18s2de05';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb18s2de05';
        } '0a27a0eb';
    } '7ddf88e5';
}

group emcareobservationemcareb18s2de06(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de06';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE06'
         'code-emcareb18s2de06';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE06' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb18s2de06';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb18s2de06';
        } '41672faa';
    } '2c803f20';
}

group emcareobservationemcareb18s2de07(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de07';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE07'
         'code-emcareb18s2de07';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE07' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb18s2de07';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb18s2de07';
        } '41672faa';
    } 'b6ae57a7';
}

group emcareobservationemcareb18s2de08(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de08';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE08'
         'code-emcareb18s2de08';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE08' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb18s2de08';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb18s2de08';
        } '0a27a0eb';
    } 'aae0b28c';
}

group emcareobservationemcareb18s2de12(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de12';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE12'
         'code-emcareb18s2de12';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE12' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb18s2de12';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb18s2de12';
        } '41672faa';
    } '33f89870';
}

group emcareobservationemcareb18s2de13(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb18s2de13';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B18S2.DE13'
         'code-emcareb18s2de13';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B18S2.DE13' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb18s2de13';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb18s2de13';
        } '41672faa';
    } '36d6a3ed';
}

group emcareobservationemcareb19s2de01(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb19s2de01';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B19S2.DE01'
         'code-emcareb19s2de01';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B19S2.DE01' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb19s2de01';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb19s2de01';
        } '41672faa';
    } '1ef25ea7';
}

group emcareobservationemcareb19s2de02(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb19s2de02';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B19S2.DE02'
         'code-emcareb19s2de02';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B19S2.DE02' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb19s2de02';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb19s2de02';
        } '41672faa';
    } '1871a67b';
}

group emcareobservationemcareb19s2de03(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb19s2de03';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B19S2.DE03'
         'code-emcareb19s2de03';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B19S2.DE03' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb19s2de03';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb19s2de03';
        } '41672faa';
    } 'fa78c887';
}

group emcareobservationemcareb20s2de01(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb20s2de01';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B20S2.DE01'
         'code-emcareb20s2de01';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B20S2.DE01' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb20s2de01';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb20s2de01';
        } '41672faa';
    } '926d8b97';
}

group emcareobservationemcareb20s2de02(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb20s2de02';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B20S2.DE02'
         'code-emcareb20s2de02';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B20S2.DE02' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb20s2de02';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb20s2de02';
        } '0a27a0eb';
    } '750e338a';
}

group emcareobservationemcareb20s2de06(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb20s2de06';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B20S2.DE06'
         'code-emcareb20s2de06';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B20S2.DE06' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb20s2de06';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb20s2de06';
        } '41672faa';
    } 'f653327b';
}

group emcareobservationemcareb21s2de01(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de01';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE01'
         'code-emcareb21s2de01';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE01' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb21s2de01';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb21s2de01';
        } '0a27a0eb';
    } 'a34e593a';
}

group emcareobservationemcareb21s2de05(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de05';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE05'
         'code-emcareb21s2de05';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE05' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb21s2de05';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb21s2de05';
        } '0a27a0eb';
    } 'db6730d6';
}

group emcareobservationemcareb21s2de08(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de08';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE08'
         'code-emcareb21s2de08';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE08' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb21s2de08';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb21s2de08';
        } '41672faa';
    } '5f8d6152';
}

group emcareobservationemcareb21s2de09(source src,target tgt){
    src where src.item.where(linkId='EmCare.B21S2.DE09').answer.exists(value.code = 'EmCare.B21S2.DE10') then emcareb21s2de09emcareb21s2de10t(src,tgt) 'emcareb21s2de09emcareb21s2de10t';
    src where src.item.where(linkId='EmCare.B21S2.DE09').answer.exists(value.code = 'EmCare.B21S2.DE10')=false then emcareb21s2de09emcareb21s2de10f(src,tgt) 'emcareb21s2de09emcareb21s2de10f';
    src where src.item.where(linkId='EmCare.B21S2.DE09').answer.exists(value.code = 'EmCare.B21S2.DE11') then emcareb21s2de09emcareb21s2de11t(src,tgt) 'emcareb21s2de09emcareb21s2de11t';
    src where src.item.where(linkId='EmCare.B21S2.DE09').answer.exists(value.code = 'EmCare.B21S2.DE11')=false then emcareb21s2de09emcareb21s2de11f(src,tgt) 'emcareb21s2de09emcareb21s2de11f';
}

group emcareobservationemcareb21s2de10(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de09emcareb21s2de10t';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE10'
         'code-emcareb21s2de09emcareb21s2de10t';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src -> tgt.status = 'final' 'f-EmCare.B21S2.DE10';
}

group emcareobservationemcareb21s2de10(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de09emcareb21s2de10f';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE10'
         'code-emcareb21s2de09emcareb21s2de10f';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src -> tgt.status = 'cancelled' 'f-EmCare.B21S2.DE10';
}

group emcareobservationemcareb21s2de11(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de09emcareb21s2de11t';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE11'
         'code-emcareb21s2de09emcareb21s2de11t';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src -> tgt.status = 'final' 'f-EmCare.B21S2.DE11';
}

group emcareobservationemcareb21s2de11(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de09emcareb21s2de11f';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE11'
         'code-emcareb21s2de09emcareb21s2de11f';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src -> tgt.status = 'cancelled' 'f-EmCare.B21S2.DE11';
}

group emcareobservationemcareb21s2de12(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de12';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE12'
         'code-emcareb21s2de12';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE12' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb21s2de12';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb21s2de12';
        } '0a27a0eb';
    } 'e17200d9';
}

group emcareobservationemcareb21s2de27(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de27';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE27'
         'code-emcareb21s2de27';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE27' then {
        item.answer first as a then {
            a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb21s2de27';
             a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb21s2de27';
        } '0a27a0eb';
    } 'e574ab8e';
}

group emcareobservationemcareb21s2de30(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de30';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE30'
         'code-emcareb21s2de30';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE30' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb21s2de30';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb21s2de30';
        } '41672faa';
    } '641d1fb4';
}

group emcareobservationemcareb21s2de31(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb21s2de31';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B21S2.DE31'
         'code-emcareb21s2de31';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B21S2.DE31' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final' 'final-emcareb21s2de31';
            a  where a.value = false -> tgt.status = 'cancelled' 'notfound-emcareb21s2de31';
        } '41672faa';
    } 'cc8eb67c';
}

