map 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureMap/emcare.b6.measurements' = 'emcare.b6.measurements'
uses 'http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse' alias 'questionnaireResponse' as source
uses 'http://hl7.org/fhir/StructureDefinition/Bundle' alias 'Bundle' as target
uses 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/observation' alias 'Observation' as target
uses 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation' alias 'EmCare Observation' as produced
group bundletrans(source src : questionnaireResponse,target bundle : Bundle){
    src -> bundle.id = uuid() 'id';
    src -> bundle.type = 'batch' 'type';
    src.item first as item  where linkId = 'EmCare.B6.DE01' then {
        src -> bundle.entry as entry  then {
            src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
            src -> entry.resource = create('Observation') as tgt then {
                src -> tgt then emcareobservationemcareb6de01(src, tgt) '7b9e1570';
            } '9adbf767';
        } 'a36f7a7c';
    } 'a7972634';
    src.item first as item  where linkId = 'EmCare.B6.DE05' then {
        src -> bundle.entry as entry  then {
            src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
            src -> entry.resource = create('Observation') as tgt then {
                src -> tgt then emcareobservationemcareb6de05(src, tgt) '1b781b40';
            } 'b078a223';
        } '8261a595';
    } 'eb7eff7e';
    src.item first as item  where linkId = 'EmCare.B6.DE06' then {
        src -> bundle.entry as entry  then {
            src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
            src -> entry.resource = create('Observation') as tgt then {
                src -> tgt then emcareobservationemcareb6de06(src, tgt) '12cee51c';
            } '2efb0b06';
        } 'b561f2d8';
    } '637501b0';
    src.item first as item  where linkId = 'EmCare.B6.DE07' then {
        src -> bundle.entry as entry  then {
            src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
            src -> entry.resource = create('Observation') as tgt then {
                src -> tgt then emcareobservationemcareb6de07(src, tgt) '443e5b7a';
            } '5ecd9ab2';
        } '26d1a294';
    } '988753fe';
    src.item first as item  where linkId = 'EmCare.B6.DE08' then {
        src -> bundle.entry as entry  then {
            src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
            src -> entry.resource = create('Observation') as tgt then {
                src -> tgt then emcareobservationemcareb6de08(src, tgt) '6bb35e76';
            } 'eb449882';
        } 'e71738d1';
    } '36789a33';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE09' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de09(src, tgt) '266493b1';
                } '2f726482';
            } '6e52b729';
        } 'c21f4559';
    } '8c0a4aab';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE11' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de11(src, tgt) '561b6a20';
                } 'e820b17c';
            } '083c0960';
        } '695920bb';
    } 'edab09c2';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE12' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de12(src, tgt) '68ca10f0';
                } 'c5484336';
            } '36f4bed7';
        } '0947f4f3';
    } '72a4b449';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE14' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de14(src, tgt) 'c1b6c2f8';
                } 'de806360';
            } '39c042b2';
        } 'fa8aab4f';
    } 'a14d5110';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE15' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de15(src, tgt) 'a6fa4353';
                } 'aeccceeb';
            } '9c95b97d';
        } '4b4a08ec';
    } '1bea51b0';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE16' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de16(src, tgt) 'e096bb18';
                } 'bd26fdf7';
            } '6699c1df';
        } '72757c28';
    } '50390958';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE17' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de17(src, tgt) 'ba2a3c82';
                } 'e7d4b396';
            } '5b9abbd1';
        } '2ede7c03';
    } '22416f10';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE17a' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de17a(src, tgt) '7bc3b5ea';
                } '5622cb01';
            } 'd4830ac3';
        } 'f178f6e1';
    } 'ace359c2';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE18' then {
            src -> bundle.entry as entry  then {
                src -> entry.request as request, request.method = 'POST' , uuid() as uuid, request.url = append('/Observation/', uuid) 'b50ac4c5';
                src -> entry.resource = create('Observation') as tgt then {
                    src -> tgt then emcareobservationemcareb6de18(src, tgt) '307489c1';
                } 'e8491d3e';
            } '9e7c1f1c';
        } '94e29bc3';
    } '94161def';
}

group emcareobservationemcareb6de01(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de01';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE01'
         'code-emcareb6de01';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B6.DE01' then {
        item.answer first as a then {
            a.value as val -> tgt.value = val, tgt.status = 'final' 'val-emcareb6de01';
        } 'd40466ff';
    } 'e6c7c829';
}

group emcareobservationemcareb6de05(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de05';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE05'
         'code-emcareb6de05';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B6.DE05' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de05';
            a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de05';
        } 'bdab9370';
    } '2f483f51';
}

group emcareobservationemcareb6de06(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de06';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE06'
         'code-emcareb6de06';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B6.DE06' then {
        item.answer first as a then {
            a.value as val -> tgt.value = val, tgt.status = 'final' 'val-emcareb6de06';
        } 'd40466ff';
    } '5e3051f4';
}

group emcareobservationemcareb6de07(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de07';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE07'
         'code-emcareb6de07';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B6.DE07' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de07';
            a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de07';
        } 'bdab9370';
    } '4fda6ab3';
}

group emcareobservationemcareb6de08(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de08';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE08'
         'code-emcareb6de08';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as item  where linkId = 'EmCare.B6.DE08' then {
        item.answer first as a then {
            a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de08';
            a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de08';
        } 'bdab9370';
    } '2a6aa432';
}

group emcareobservationemcareb6de09(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de09';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE09'
         'code-emcareb6de09';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE09' then {
            item.answer first as a then {
                a.value as val -> tgt.value = val, tgt.status = 'final' 'val-emcareb6de09';
            } 'd40466ff';
        } 'f5ba7797';
    } 'c5ce5a30';
}

group emcareobservationemcareb6de11(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de11';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE11'
         'code-emcareb6de11';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE11' then {
            item.answer first as a then {
                a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de11';
                a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de11';
            } 'bdab9370';
        } '77151994';
    } '9f7c91e4';
}

group emcareobservationemcareb6de12(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de12';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE12'
         'code-emcareb6de12';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE12' then {
            item.answer first as a then {
                a.value as val -> tgt.value = val, tgt.status = 'final' 'val-emcareb6de12';
            } 'd40466ff';
        } '32084ed7';
    } 'a9166095';
}

group emcareobservationemcareb6de14(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de14';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE14'
         'code-emcareb6de14';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE14' then {
            item.answer first as a then {
                a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de14';
                a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de14';
            } 'bdab9370';
        } '9578d983';
    } '50fa31b6';
}

group emcareobservationemcareb6de15(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de15';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE15'
         'code-emcareb6de15';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE15' then {
            item.answer first as a then {
                a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de15';
                a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de15';
            } 'bdab9370';
        } '6e6986aa';
    } '62620e74';
}

group emcareobservationemcareb6de16(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de16';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE16'
         'code-emcareb6de16';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE16' then {
            item.answer first as a then {
                a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de16';
                a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de16';
            } 'bdab9370';
        } '5cd3f17a';
    } '11cbfdd7';
}

group emcareobservationemcareb6de17(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de17';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE17'
         'code-emcareb6de17';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE17' then {
            item.answer first as a then {
                a.value as val -> tgt.value = val, tgt.status = 'final' 'val-emcareb6de17';
            } 'd40466ff';
        } '04438d68';
    } 'cc74ad06';
}

group emcareobservationemcareb6de17a(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de17a';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE17a'
         'code-emcareb6de17a';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE17a' then {
            item.answer first as a then {
                a  where a.value = true -> tgt.status = 'final', tgt.value = true 'final-emcareb6de17a';
                a  where a.value = false -> tgt.status = 'cancelled', tgt.value = false 'notfound-emcareb6de17a';
            } 'bdab9370';
        } '792239b8';
    } 'f61e0a50';
}

group emcareobservationemcareb6de18(source src,target tgt){
        src -> tgt.identifier = create('Identifier') as CodeID,
            CodeID.system = 'http://hl7.org/fhir/namingsystem-identifier-type',
            CodeID.use =  'official',
            CodeID.value = 'uuid',
            CodeID.id = uuid()
         'id-emcareb6de18';
    src.encounter as encounter -> tgt.encounter = encounter '35bc6b82';
        src.subject as subject -> tgt.subject = subject,
            tgt.meta = create('Meta') as newMeta, newMeta.profile = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/StructureDefinition/emcareobservation',
            tgt.code = create('CodeableConcept') as concept, concept.coding = create('Coding') as coding,
                coding.system = 'https://fhir.dk.swisstph-mis.ch/matchbox/fhir/CodeSystem/emcare-custom-codes',
                coding.code = 'EmCare.B6.DE18'
         'code-emcareb6de18';
    src.item as item where linkId  =  'timestamp' then {
        item.answer first as a then {
            a.value as val -> tgt.issued = val  '8945c96b';
        } '4272fc8b';
    } 'f4472f32';
    src.subject as subject -> tgt.subject = subject  'patient';
    src.item first as itm1  where linkId =  'HeightOrLength' then {
        itm1.item first as item  where linkId =  'EmCare.B6.DE18' then {
            item.answer first as a then {
                a.value as val  where val != 'none' -> tgt.value = val, tgt.status = 'final' 'final-emcareb6de18';
                 a  where a.value = 'none' -> tgt.status = 'cancelled'  'notfound-emcareb6de18';
            } '0a27a0eb';
        } '5eb965e8';
    } '0cb3b8c6';
}

