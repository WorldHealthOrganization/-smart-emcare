{
    "resourceType": "Library",
    "id": "emcareb6measurements",
    "url": "https://fhir.dk.swisstph-mis.ch/matchbox/fhir/Library/emcareb6measurements",
    "identifier": [
        {
            "use": "official",
            "value": "emcare.b6.measurements"
        }
    ],
    "version": "0.99.99",
    "name": "emcareb6measurements",
    "title": "EmCare.B6.Measurements",
    "status": "active",
    "type": {
        "coding": [
            {
                "system": "http://hl7.org/fhir/ValueSet/library-type",
                "code": "logic-library"
            }
        ]
    },
    "parameter": [
        {
            "name": "AgeInDays.cql",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "Age in Days",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "pastWeight",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "Previous Weight",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "PatientSex",
            "use": "out",
            "type": "string"
        },
        {
            "name": "Patient sex",
            "use": "out",
            "type": "string"
        },
        {
            "name": "AgeAtPastWeight",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "Age at Previous Weight",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "pastWeightZscore",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "Z-Score at Previous Weight",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "pastWeightActualised",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "Weight from at Previous Weight",
            "use": "out",
            "type": "decimal"
        },
        {
            "name": "AgeInMonth.cql",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "Age in months",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "AgeInYears.cql",
            "use": "out",
            "type": "integer"
        },
        {
            "name": "Age in years",
            "use": "out",
            "type": "integer"
        }
    ],
    "dataRequirement": [
        {
            "type": "Patient",
            "profile": [
                "http://hl7.org/fhir/StructureDefinition/Patient"
            ]
        }
    ],
    "content": [
        {
            "id": "ig-loader-emcareb6measurements.cql",
            "contentType": "text/cql",
            "data": "LyoKQGF1dGhvcjogUGF0cmljayBEZWxjcm9peApAZGVzY3JpcHRpb246IFRoaXMgbGlicmFyeSBpcyBwYXJ0IG9mIHRoZSBwcm9qZWN0IEVtQ2FyZQoqLwpsaWJyYXJ5IGVtY2FyZWI2bWVhc3VyZW1lbnRzIHZlcnNpb24gJzAuOTkuOTknCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnIGNhbGxlZCBGSElSSGVscGVycyAKaW5jbHVkZSBFbUNhcmVCYXNlIHZlcnNpb24gJzAuOTkuOTknIGNhbGxlZCBCYXNlCmluY2x1ZGUgRW1DYXJlT2JzZXJ2YXRpb24gdmVyc2lvbiAnMC45OS45OScgY2FsbGVkIG9icwppbmNsdWRlIEVtQ2FyZVZhbHVlU2V0IHZlcnNpb24gJzAuOTkuOTknIGNhbGxlZCB2YWwKaW5jbHVkZSB3ZWlhbnRocm8gdmVyc2lvbiAnMC45OS45OScgY2FsbGVkIHdlaWFudGhybwoKCmNvbnRleHQgUGF0aWVudAogICAgICAKCi8qIEFnZUluRGF5cy5jcWwgOiBBZ2UgaW4gRGF5cyovCmRlZmluZSAiQWdlSW5EYXlzLmNxbCI6CiAgICBBZ2VJbkRheXMoKQoKLyogQWdlIGluIERheXMgOiBBZ2UgaW4gRGF5cyovCmRlZmluZSAiQWdlIGluIERheXMiOgogICAgQWdlSW5EYXlzKCkKCi8qIHBhc3RXZWlnaHQgOiBQcmV2aW91cyBXZWlnaHQqLwpkZWZpbmUgInBhc3RXZWlnaHQiOgogICAgaWYgQWdlSW5Nb250aHMoKTwgNCBhbmQgQmFzZS5IYXNPYnNIaXN0b3J5KCdFbUNhcmUuQjYuREUwNicsJ2h0dHBzOi8vZmhpci5kay5zd2lzc3RwaC1taXMuY2gvbWF0Y2hib3gvZmhpci9Db2RlU3lzdGVtL2VtY2FyZS1jdXN0b20tY29kZXMnLCA2MykgYXMgRkhJUi5RdWFudGl0eSBpcyBub3QgbnVsbCB0aGVuCiAgICAgIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgNjMpICBhcyBGSElSLlF1YW50aXR5CiAgICBlbHNlICBpZiBBZ2VJbk1vbnRocygpPCA2IGFuZCBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDk0KSBhcyBGSElSLlF1YW50aXR5ICBpcyBub3QgbnVsbCB0aGVuCiAgICAgIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgOTQpICBhcyAgRkhJUi5RdWFudGl0eQogICAgZWxzZSBpZiBBZ2VJbk1vbnRocygpPCA2IGFuZCBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDEyNikgYXMgRkhJUi5RdWFudGl0eSAgaXMgbm90IG51bGwgdGhlbgogICAgICAgQmFzZS5IYXNPYnNIaXN0b3J5KCdFbUNhcmUuQjYuREUwNicsJ2h0dHBzOi8vZmhpci5kay5zd2lzc3RwaC1taXMuY2gvbWF0Y2hib3gvZmhpci9Db2RlU3lzdGVtL2VtY2FyZS1jdXN0b20tY29kZXMnLCAxMjYpICBhcyBGSElSLlF1YW50aXR5CiAgICBlbHNlIGlmIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgMjAxKSBhcyBGSElSLlF1YW50aXR5ICBpcyBub3QgbnVsbCB0aGVuCiAgICAgICBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDIwMSkgIGFzIEZISVIuUXVhbnRpdHkKICAgIGVsc2UKICAgICAgbnVsbAoKLyogUHJldmlvdXMgV2VpZ2h0IDogUHJldmlvdXMgV2VpZ2h0Ki8KZGVmaW5lICJQcmV2aW91cyBXZWlnaHQiOgogICAgaWYgQWdlSW5Nb250aHMoKTwgNCBhbmQgQmFzZS5IYXNPYnNIaXN0b3J5KCdFbUNhcmUuQjYuREUwNicsJ2h0dHBzOi8vZmhpci5kay5zd2lzc3RwaC1taXMuY2gvbWF0Y2hib3gvZmhpci9Db2RlU3lzdGVtL2VtY2FyZS1jdXN0b20tY29kZXMnLCA2MykgYXMgRkhJUi5RdWFudGl0eSBpcyBub3QgbnVsbCB0aGVuCiAgICAgIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgNjMpICBhcyBGSElSLlF1YW50aXR5CiAgICBlbHNlICBpZiBBZ2VJbk1vbnRocygpPCA2IGFuZCBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDk0KSBhcyBGSElSLlF1YW50aXR5ICBpcyBub3QgbnVsbCB0aGVuCiAgICAgIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgOTQpICBhcyAgRkhJUi5RdWFudGl0eQogICAgZWxzZSBpZiBBZ2VJbk1vbnRocygpPCA2IGFuZCBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDEyNikgYXMgRkhJUi5RdWFudGl0eSAgaXMgbm90IG51bGwgdGhlbgogICAgICAgQmFzZS5IYXNPYnNIaXN0b3J5KCdFbUNhcmUuQjYuREUwNicsJ2h0dHBzOi8vZmhpci5kay5zd2lzc3RwaC1taXMuY2gvbWF0Y2hib3gvZmhpci9Db2RlU3lzdGVtL2VtY2FyZS1jdXN0b20tY29kZXMnLCAxMjYpICBhcyBGSElSLlF1YW50aXR5CiAgICBlbHNlIGlmIEJhc2UuSGFzT2JzSGlzdG9yeSgnRW1DYXJlLkI2LkRFMDYnLCdodHRwczovL2ZoaXIuZGsuc3dpc3N0cGgtbWlzLmNoL21hdGNoYm94L2ZoaXIvQ29kZVN5c3RlbS9lbWNhcmUtY3VzdG9tLWNvZGVzJywgMjAxKSBhcyBGSElSLlF1YW50aXR5ICBpcyBub3QgbnVsbCB0aGVuCiAgICAgICBCYXNlLkhhc09ic0hpc3RvcnkoJ0VtQ2FyZS5CNi5ERTA2JywnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2RlcycsIDIwMSkgIGFzIEZISVIuUXVhbnRpdHkKICAgIGVsc2UKICAgICAgbnVsbAoKLyogUGF0aWVudFNleCA6IFBhdGllbnQgc2V4Ki8KZGVmaW5lICJQYXRpZW50U2V4IjoKICAgIGlmIFBhdGllbnQuZ2VuZGVyID0gJ2ZlbWFsZScgdGhlbiAnZmVtYWxlJyBlbHNlICdtYWxlJwoKLyogUGF0aWVudCBzZXggOiBQYXRpZW50IHNleCovCmRlZmluZSAiUGF0aWVudCBzZXgiOgogICAgaWYgUGF0aWVudC5nZW5kZXIgPSAnZmVtYWxlJyB0aGVuICdmZW1hbGUnIGVsc2UgJ21hbGUnCgovKiBBZ2VBdFBhc3RXZWlnaHQgOiBBZ2UgYXQgUHJldmlvdXMgV2VpZ2h0Ki8KZGVmaW5lICJBZ2VBdFBhc3RXZWlnaHQiOgogICAgaWYgInBhc3RXZWlnaHQiID4wICB0aGVuCiAgICAgIChkaWZmZXJlbmNlIGluIGRheXMgYmV0d2VlbiBUb0RhdGUoTGFzdChbT2JzZXJ2YXRpb24gXSBPIHdoZXJlICBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCd9IGFuZCAgZXhpc3RzKE8uY29kZS5jb2RpbmcgQyB3aGVyZSBDLmNvZGUgPSAnRW1DYXJlLkI2LkRFMDYnICBhbmQgQy5zeXN0ZW0gPSBGSElSLnVyaSB7dmFsdWUgOiAnaHR0cHM6Ly9maGlyLmRrLnN3aXNzdHBoLW1pcy5jaC9tYXRjaGJveC9maGlyL0NvZGVTeXN0ZW0vZW1jYXJlLWN1c3RvbS1jb2Rlcyd9KSkuaXNzdWVkKSBhbmQgUGF0aWVudC5iaXJ0aERhdGUpICogKCAxLjAgYXMgU3lzdGVtLkRlY2ltYWwgKQogICAgZWxzZQogICAgIG51bGwKCi8qIEFnZSBhdCBQcmV2aW91cyBXZWlnaHQgOiBBZ2UgYXQgUHJldmlvdXMgV2VpZ2h0Ki8KZGVmaW5lICJBZ2UgYXQgUHJldmlvdXMgV2VpZ2h0IjoKICAgIGlmICJwYXN0V2VpZ2h0IiA+MCAgdGhlbgogICAgICAoZGlmZmVyZW5jZSBpbiBkYXlzIGJldHdlZW4gVG9EYXRlKExhc3QoW09ic2VydmF0aW9uIF0gTyB3aGVyZSAgTy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnfSBhbmQgIGV4aXN0cyhPLmNvZGUuY29kaW5nIEMgd2hlcmUgQy5jb2RlID0gJ0VtQ2FyZS5CNi5ERTA2JyAgYW5kIEMuc3lzdGVtID0gRkhJUi51cmkge3ZhbHVlIDogJ2h0dHBzOi8vZmhpci5kay5zd2lzc3RwaC1taXMuY2gvbWF0Y2hib3gvZmhpci9Db2RlU3lzdGVtL2VtY2FyZS1jdXN0b20tY29kZXMnfSkpLmlzc3VlZCkgYW5kIFBhdGllbnQuYmlydGhEYXRlKSAqICggMS4wIGFzIFN5c3RlbS5EZWNpbWFsICkKICAgIGVsc2UKICAgICBudWxsCgovKiBwYXN0V2VpZ2h0WnNjb3JlIDogWi1TY29yZSBhdCBQcmV2aW91cyBXZWlnaHQqLwpkZWZpbmUgInBhc3RXZWlnaHRac2NvcmUiOgogICAgaWYgInBhc3RXZWlnaHQiID4wICAgdGhlbgogICAgICB3ZWlhbnRocm8uZ2VuZXJhdGVaU2NvcmVXZWlnaHRGb3JBZ2UoIlBhdGllbnRTZXgiLCAiQWdlQXRQYXN0V2VpZ2h0IiAsICgicGFzdFdlaWdodCIudmFsdWUgKiAoIDEuMCBhcyBTeXN0ZW0uRGVjaW1hbCApKSkKICAgIGVsc2UKICAgICAgbnVsbAoKLyogWi1TY29yZSBhdCBQcmV2aW91cyBXZWlnaHQgOiBaLVNjb3JlIGF0IFByZXZpb3VzIFdlaWdodCovCmRlZmluZSAiWi1TY29yZSBhdCBQcmV2aW91cyBXZWlnaHQiOgogICAgaWYgInBhc3RXZWlnaHQiID4wICAgdGhlbgogICAgICB3ZWlhbnRocm8uZ2VuZXJhdGVaU2NvcmVXZWlnaHRGb3JBZ2UoIlBhdGllbnRTZXgiLCAiQWdlQXRQYXN0V2VpZ2h0IiAsICgicGFzdFdlaWdodCIudmFsdWUgKiAoIDEuMCBhcyBTeXN0ZW0uRGVjaW1hbCApKSkKICAgIGVsc2UKICAgICAgbnVsbAoKLyogcGFzdFdlaWdodEFjdHVhbGlzZWQgOiBXZWlnaHQgZnJvbSAgYXQgUHJldmlvdXMgV2VpZ2h0Ki8KZGVmaW5lICJwYXN0V2VpZ2h0QWN0dWFsaXNlZCI6CiAgICBpZiAicGFzdFdlaWdodCI+MCB0aGVuCiAgICAgIHdlaWFudGhyby5nZW5lcmF0ZVdlaWdodEZyb21BZ2UoIlBhdGllbnRTZXgiLEFnZUluRGF5cygpICogKCAxLjAgYXMgU3lzdGVtLkRlY2ltYWwgKSwgInBhc3RXZWlnaHRac2NvcmUiKQogICAgZWxzZQogICAgICBudWxsCgovKiBXZWlnaHQgZnJvbSAgYXQgUHJldmlvdXMgV2VpZ2h0IDogV2VpZ2h0IGZyb20gIGF0IFByZXZpb3VzIFdlaWdodCovCmRlZmluZSAiV2VpZ2h0IGZyb20gIGF0IFByZXZpb3VzIFdlaWdodCI6CiAgICBpZiAicGFzdFdlaWdodCI+MCB0aGVuCiAgICAgIHdlaWFudGhyby5nZW5lcmF0ZVdlaWdodEZyb21BZ2UoIlBhdGllbnRTZXgiLEFnZUluRGF5cygpICogKCAxLjAgYXMgU3lzdGVtLkRlY2ltYWwgKSwgInBhc3RXZWlnaHRac2NvcmUiKQogICAgZWxzZQogICAgICBudWxsCgovKiBBZ2VJbk1vbnRoLmNxbCA6IEFnZSBpbiBtb250aHMqLwpkZWZpbmUgIkFnZUluTW9udGguY3FsIjoKICAgIEFnZUluTW9udGhzKCkKCi8qIEFnZSBpbiBtb250aHMgOiBBZ2UgaW4gbW9udGhzKi8KZGVmaW5lICJBZ2UgaW4gbW9udGhzIjoKICAgIEFnZUluTW9udGhzKCkKCi8qIEFnZUluWWVhcnMuY3FsIDogQWdlIGluIHllYXJzKi8KZGVmaW5lICJBZ2VJblllYXJzLmNxbCI6CiAgICBBZ2VJblllYXJzKCkKCi8qIEFnZSBpbiB5ZWFycyA6IEFnZSBpbiB5ZWFycyovCmRlZmluZSAiQWdlIGluIHllYXJzIjoKICAgIEFnZUluWWVhcnMoKQo="
        }
    ]
}