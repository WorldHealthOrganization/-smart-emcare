{
    "resourceType": "StructureMap",
    "id": "emcare-encounter-EmCareB.Registration.E",
    "url": "https://fhir.dk.swisstph-mis.ch/matchbox/fhir//StructureMap/structuremap-emcare-encounter-emcareb.registration.e",
    "name": "emcare-encounter-EmCareB.Registration.E",
    "status": "draft",
    "structure": [
        {
            "url": "https://fhir.dk.swisstph-mis.ch/matchbox/fhir//Questionnaire/questionnaire-emcareb.registration.e",
            "mode": "source",
            "alias": "emcareb.registration.e"
        },
        {
            "url": "https://fhir.dk.swisstph-mis.ch/matchbox/fhir//Profile/profile-emcare-encounter",
            "mode": "target",
            "alias": "emcare-encounter"
        }
    ],
    "group": [
        {
            "name": "main",
            "typeMode": "types",
            "input": [
                {
                    "name": "qr",
                    "type": "emcareb.registration.e",
                    "mode": "source"
                },
                {
                    "name": "tgt",
                    "type": "emcare-encounter",
                    "mode": "target"
                }
            ],
            "rule": [
                {
                    "name": "EmCare.A.DE44",
                    "source": [
                        {
                            "context": "item"
                        }
                    ],
                    "documentation": "item.answer first where item.linkId = 'EmCare.A.DE44' as a then { a -> tgt.participant.individual = a 'EmCare.A.DE44-1'; }"
                },
                {
                    "name": "EmCare.B2.DE01",
                    "source": [
                        {
                            "context": "item"
                        }
                    ],
                    "documentation": "item.answer first where item.linkId = 'EmCare.B2.DE01' as a then { a -> tgt.type = a 'EmCare.B2.DE01-1'; }"
                },
                {
                    "name": "EmCare.B3.DE01",
                    "source": [
                        {
                            "context": "item"
                        }
                    ],
                    "documentation": "item.answer first where item.linkId = 'EmCare.B3.DE01' as a then { a -> tgt.reasonCode = a 'EmCare.B3.DE01-1'; }"
                },
                {
                    "name": "EmCare.B3.DE06",
                    "source": [
                        {
                            "context": "item"
                        }
                    ],
                    "documentation": "item.answer first where item.linkId = 'EmCare.B3.DE06' as a then { a -> tgt.type = a 'EmCare.B3.DE06-1'; }"
                },
                {
                    "name": "EmCare.B3.DE09",
                    "source": [
                        {
                            "context": "item"
                        }
                    ],
                    "documentation": "item.answer first where item.linkId = 'EmCare.B3.DE09' as a then { a -> tgt.extension('{{canocical_base}/Extension/refered}').valueBoolean = a 'EmCare.B3.DE09-1'; }"
                }
            ]
        }
    ]
}